# Checkout {#checkout_en}

###### Last update: 2017-11-14 | [Edit on GitHub](https://github.com/QIWI-API/pull-payments-docs/blob/master/_checkout_en.html.md)

Merchant may offer the user to pay the invoice immediately by redirecting to the QIWI Wallet Сheckout page via the HTTP GET-request.

~~~text
QIWI Checkout page
~~~
~~~http
GET /order/external/main.action?shop=2042&transaction=1234567&successUrl=http%3A%2F%2Fmystore.com%2Fsuccess%3Fa%3D1%26b%3D2&failUrl=http%3A%2F%2Fmystore.com%2Ffail%3Fa%3D1%26b%3D2&pay_source=qw HTTP/1.1
Host: bill.qiwi.com
~~~

<h3 class="request method">Request → REDIRECT</h3>

<ul class="nestedList url">
    <li><h3>URL <span>https://bill.qiwi.com/order/external/main.action</span></h3>
    </li>
</ul>

<aside class="notice">
In response, server opens issued invoice checkout page on QIWI Wallet side. Page contains a number of ways to pay the invoice.

If the merchant uses invoicing <a href="#webform_en">web form</a>, this redirect is performed by default.
</aside>

<ul class="nestedList params">
    <li><h3>Parameters</h3>
    </li>
</ul>


Parameter|Type|Description|Required
---------|--------|---|------
shop| string |Merchant's ID in QIWI Wallet system, corresponds to **prv_id** parameter [used to create the bill](#invoice).|Y
transaction| string |Invoice ID generated by the merchant, corresponds to **bill_id** parameter [used to create the bill](#invoice).|Y
iframe| boolean | This parameter (if `true`) means that invoice page would be opened in "iframe". The checkout page appears more compact and can be embedded conveniently within the merchant’s site. Default value is `false`|N
successUrl |URL-encoded string| The URL to which the payer will be redirected in case of successful creation of QIWI Wallet transaction. URL must be within merchant's site. **Redirection is performed when user pays by QIWI Wallet account's balance only** | N
failUrl |URL-encoded string | The URL to which the payer will be redirected when creation of QIWI Wallet transaction is unsuccessful. URL must be within merchant's site. **Redirection is performed when user pays by QIWI Wallet account's balance only** |N
target |`iframe` string| The parameter turns on opening hyperlinks specified in `successUrl` / `failUrl` parameters in "iframe" page|N
pay_source |string| Default payment method to show first on the page for the user. Allowed values:<br>`qw` – QIWI Wallet account;<br> `mobile` – client’s cell phone account;<br> `card` – a credit/debit card;<br> `wm` – linked WebMoney wallet;<br> `ssk` – payment by cash in a QIWI Terminal.<br> When specified method is inaccessible for the user, the page shows a notice about it and the client can choose another method.|N

## Redirection to Merchant Site {#status-links}

~~~text
Redirect when transaction is successfully created
~~~
~~~http
GET /success?a=1&b=2&order=1234567 HTTP/1.1
Host: mystore.com
~~~
~~~text
Redirect when creation of transaction is unsuccessful
~~~
~~~http
GET /fail?a=1&b=2&order=1234567 HTTP/1.1
Host: mystore.com
~~~

<aside class="notice">
If the checkout page URL contains <i>successUrl</i> or <i>failUrl</i> parameter, QIWI Wallet site redirects the user back to the corresponding URL after completing the payment process. <b>Redirection occurs when the user pays by QIWI Wallet account balance only</b>.
</aside>

<aside class="warning">
When redirection to <i>successUrl</i> or <i>failUrl</i> is not completed by some reason, you should wait for the QIWI Wallet’s <a href="#notification_en">notification</a> with final invoice status to the merchant’s server before complete the user order. When notifications are not used, you should <a href="#invoice-status">request the invoice status</a>.
</aside>

The URL for redirection supplements <i>order</i> parameter with its value as the original merchant's invoice ID. Using this parameter, the merchant can render the final page depending on the order details.
